<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:fa="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="Jellyfin2SamsungCrossOS.SettingsView"
        x:DataType="viewModels:SettingsViewModel"
        xmlns:viewModels="clr-namespace:Jellyfin2SamsungCrossOS.ViewModels"
        Title="Settings"
        Width="610"
        Height="580"
        Background="#F5F5F5">
	<Window.Styles>
		<StyleInclude Source="avares://Avalonia.Controls.DataGrid/Themes/Fluent.xaml"/>
		<StyleInclude Source="avares://Jellyfin2SamsungCrossOS/Styles/Buttons.axaml"/>
		<StyleInclude Source="avares://Jellyfin2SamsungCrossOS/Styles/TextBlocks.axaml"/>
		<StyleInclude Source="avares://Jellyfin2SamsungCrossOS/Styles/ComboBoxes.axaml"/>
	</Window.Styles>


	<Border Background="White"
            Padding="16"
            CornerRadius="8"
            Margin="6"
            BorderBrush="#E8E8E8"
            BorderThickness="1">

		<Border.Effect>
			<DropShadowEffect BlurRadius="15" OffsetX="2" OffsetY="2" Color="#00000020" Opacity="0.15"/>
		</Border.Effect>

		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<!-- Header -->
			<Border Grid.Row="0"
                    Background="#2C3E50"
                    CornerRadius="8"
                    Padding="24,20"
                    Margin="0,0,0,14">
				<TextBlock Text="Settings"
                           Foreground="White"
                           FontSize="18"
                           FontWeight="Medium"
                           HorizontalAlignment="Center"/>
			</Border>

			<!-- Settings Content -->
			<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
				<StackPanel Spacing="18">

					<!-- Language Section -->
					<Grid ColumnDefinitions="120,*" ColumnSpacing="12">
						<TextBlock Grid.Column="0"
                                   Text="{Binding lblLanguage}"
                                   Classes="label"
                                   VerticalAlignment="Center"/>
						<ComboBox Grid.Column="1"
                                  Classes="clean"
                                  ItemsSource="{Binding AvailableLanguages}"
                                  SelectedItem="{Binding SelectedLanguage, Mode=TwoWay}"
                                  HorizontalAlignment="Stretch">
							<ComboBox.ItemTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding Name}"/>
								</DataTemplate>
							</ComboBox.ItemTemplate>
						</ComboBox>
					</Grid>

					<!-- Certificate Section -->
					<Grid ColumnDefinitions="120,*" ColumnSpacing="12">
						<TextBlock Grid.Column="0"
                                   Text="{Binding lblCertifcate}"
                                   Classes="label"
                                   VerticalAlignment="Center"/>
						<ComboBox Grid.Column="1"
                                  Classes="clean"
                                  ItemsSource="{Binding AvailableCertificates}"
                                  SelectedItem="{Binding SelectedCertificateObject, Mode=TwoWay}"
                                  HorizontalAlignment="Stretch">
							<ComboBox.ItemTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding Name}"/>
								</DataTemplate>
							</ComboBox.ItemTemplate>
						</ComboBox>
					</Grid>

					<!-- Custom WGT Section -->
					<Grid ColumnDefinitions="120,*,40" ColumnSpacing="8">
						<TextBlock Grid.Column="0"
                                   Text="{Binding lblCustomWgt}"
                                   Classes="label"
                                   VerticalAlignment="Center"/>
						<TextBox Grid.Column="1"
                                 Text="{Binding CustomWgtPath, Mode=TwoWay}"
                                 IsReadOnly="True"
                                 HorizontalAlignment="Stretch"
                                 Watermark="{Binding SelectWGT}"/>
						<Button Grid.Column="2"
                                Classes="icon"
                                Command="{Binding BrowseWgtCommand}"
                                ToolTip.Tip="Browse for WGT file">
							<fa:SymbolIcon Symbol="Folder" Width="16" Height="16"/>
						</Button>
					</Grid>

					<!-- Separator -->
					<Border Height="1" Background="#E8E8E8" Margin="0,8"/>

					<!-- Options Section -->
					<StackPanel Spacing="12">
						<!-- Remember IP -->
						<Grid ColumnDefinitions="*,Auto" ColumnSpacing="12">
							<TextBlock Grid.Column="0"
                                       Text="{Binding lblRememberIp}"
                                       Classes="label"
                                       VerticalAlignment="Center"/>
							<CheckBox Grid.Column="1"
                                      IsChecked="{Binding RememberCustomIP}"
                                      VerticalAlignment="Center"/>
						</Grid>

						<!-- Delete Previous -->
						<Grid ColumnDefinitions="*,Auto" ColumnSpacing="12">
							<TextBlock Grid.Column="0"
                                       Text="{Binding lblDeletePrevious}"
                                       Classes="label"
                                       VerticalAlignment="Center"/>
							<CheckBox Grid.Column="1"
                                      IsChecked="{Binding DeletePreviousInstall}"
                                      VerticalAlignment="Center"/>
						</Grid>

						<!-- Force Login -->
						<Grid ColumnDefinitions="*,Auto" ColumnSpacing="12">
							<TextBlock Grid.Column="0"
                                       Text="{Binding lblForceLogin}"
                                       Classes="label"
                                       VerticalAlignment="Center"/>
							<CheckBox Grid.Column="1"
                                      IsChecked="{Binding ForceSamsungLogin}"
                                      VerticalAlignment="Center"/>
						</Grid>

						<!-- RTL Reading -->
						<Grid ColumnDefinitions="*,Auto" ColumnSpacing="12">
							<TextBlock Grid.Column="0"
                                       Text="{Binding lblRTL}"
                                       Classes="label"
                                       VerticalAlignment="Center"/>
							<CheckBox Grid.Column="1"
                                      IsChecked="{Binding RtlReading}"
                                      VerticalAlignment="Center"/>
						</Grid>
					</StackPanel>

					<!-- Separator -->
					<Border Height="1" Background="#E8E8E8" Margin="0,8"/>

					<!-- Configuration Section -->
					<Grid ColumnDefinitions="170,*" ColumnSpacing="12">
						<TextBlock Grid.Column="0"
                                   Text="{Binding lblModifyConfig}"
                                   Classes="label"
                                   VerticalAlignment="Center"/>
						<Button Grid.Column="1"
                                Classes="primary"
                                Content="{Binding lblOpenConfig}"
                                Command="{Binding ModifyConfigCommand}"
                                HorizontalAlignment="Left"/>
					</Grid>

				</StackPanel>
			</ScrollViewer>
		</Grid>
	</Border>
</Window>