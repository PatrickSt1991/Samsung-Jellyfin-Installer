<Window x:Class="Samsung_Jellyfin_Installer.Views.JellyfinConfigView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Samsung_Jellyfin_Installer.Views"
        xmlns:loc="clr-namespace:Samsung_Jellyfin_Installer.Converters"
        TextElement.Foreground="{DynamicResource MaterialDesign.Brush.Foreground}"
        Background="{DynamicResource MaterialDesign.Brush.Background}"
        TextElement.FontWeight="Medium"
        TextElement.FontSize="14"
        FontFamily="{materialDesign:MaterialDesignFont}"
        mc:Ignorable="d"
        Title="Jellyfin Config" Height="925" Width="550" d:Height="1100">
    <Grid Background="#19000B25">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <materialDesign:Card Padding="12" Margin="0,10,0,0" Background="#FF000B25" Foreground="White" HorizontalAlignment="Center" Width="505" VerticalAlignment="Top">
            <TextBlock Style="{DynamicResource MaterialDesignTitleTextBlock}" HorizontalAlignment="Center" Text="{loc:Localize lbl_JellyfinConfig}"/>
        </materialDesign:Card>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel Margin="0,0,0,20" VerticalAlignment="Top" Width="Auto">
                <!-- Server Configuration Section -->
                <materialDesign:Card Margin="14,0,14,20" Padding="10" >
                    <StackPanel>
                        <TextBlock Text="{loc:Localize lbl_ServerSettings}" d:Text="ServerSettings" Style="{StaticResource MaterialDesignSubtitle1TextBlock}" Margin="0,0,0,10"/>

                        <!-- Jellyfin Server (Config Setting)-->
                        <Grid Margin="0,0,0,10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Update mode (ConfigUpdateMode) -->
                            <Label Grid.Row="0" Grid.Column="0" FontSize="14"  Content="{loc:Localize UpdateMode}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <ComboBox Grid.Row="0" Grid.Column="1" Margin="0 15 0 0"
                                Style="{DynamicResource MaterialDesignComboBox}"
                                ItemsSource="{Binding AvailableUpdateModes}"
                                SelectedItem="{Binding SelectedUpdateMode, Mode=TwoWay}"
                                materialDesign:TextFieldAssist.UnderlineBrush="#FF000B25"
                                FontSize="14" 
                                materialDesign:HintAssist.Hint="{loc:Localize lbl_UpdateMode}"
                                VerticalAlignment="Center"/>
                            
                            <Label Grid.Column="0" Grid.Row="1" Content="{loc:Localize lbl_JellyfinServer}" FontSize="14" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <Grid Grid.Column="1" Grid.Row="1" Margin="0, 15,12,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <TextBox Grid.Column="0"
                                    VerticalAlignment="Center"
                                    Text="{Binding JellyfinServerIp}"
                                    Style="{DynamicResource MaterialDesignTextBox}"
                                    Foreground="{DynamicResource MaterialDesignBody}"
                                    materialDesign:HintAssist.Hint="{loc:Localize ServerIP}"
                                    FontSize="14" BorderBrush="#FF000B25"/>
                                <Label Grid.Column="1" Content=":" VerticalAlignment="Center" Margin="1,0,1,0"/>
                                <ComboBox Grid.Column="2" 
                                    Style="{DynamicResource MaterialDesignComboBox}" 
                                    VerticalAlignment="Center" 
                                    FontSize="14" 
                                    SelectedItem="{Binding SelectedJellyfinPort}"
                                    materialDesign:HintAssist.Hint="{loc:Localize ServerPort}"
                                    ItemsSource="{Binding JellyfinPorts}"
                                    Width="75"
                                    BorderBrush="#FF000B25"/>
                            </Grid>

                            <!-- Jellyfin API key -->
                            <Label Grid.Row="2" Grid.Column="0" Content="{loc:Localize lbl_JellyfinServerApi}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <TextBox Grid.Row="2" Grid.Column="1"
                                VerticalAlignment="Center"
                                Text="{Binding JellyfinApiKey, Mode=TwoWay}"
                                Style="{DynamicResource MaterialDesignTextBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                materialDesign:HintAssist.Hint="{loc:Localize lbl_JellyfinAPIKey}"
                                FontSize="14" 
                                Margin="0,15,0,0" 
                                IsEnabled="{Binding ApiKeyEnabled}"
                                BorderBrush="#FF000B25"/>

                            <!-- User Selection (ConfigUpdateMode) -->
                            <Label Grid.Row="3" Grid.Column="0" FontSize="14"  Content="{loc:Localize lbl_JellyfinUser}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <ComboBox Grid.Row="3" Grid.Column="1" Margin="0 15 0 0"
                                Style="{DynamicResource MaterialDesignComboBox}"
                                ItemsSource="{Binding AvailableJellyfinUsers}"
                                SelectedItem="{Binding SelectedJellyfinUser, Mode=TwoWay}"
                                IsEnabled="{Binding ApiKeySet}"
                                DisplayMemberPath="Name"
                                materialDesign:TextFieldAssist.UnderlineBrush="#FF000B25"
                                FontSize="14" 
                                materialDesign:HintAssist.Hint="{loc:Localize lbl_SelectUsers}"
                                VerticalAlignment="Center"/>
                        </Grid>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Browser Settings Section -->
                <materialDesign:Card Margin="14,0,14,20" Padding="10">
                    <StackPanel IsEnabled="{Binding ApiKeySet}">
                        <TextBlock Text="{loc:Localize lbl_BrowserSettings}" d:Text="BrowserSettings" Style="{StaticResource MaterialDesignSubtitle1TextBlock}" Margin="0,0,0,10"/>

                        <!-- HTML INJECTION -->
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Theme's -->
                            <Label Grid.Row="0" Grid.Column="0" Content="{loc:Localize Theme}" VerticalAlignment="Center" Margin="0,0,12,0"/>
                            <ComboBox Grid.Row="0" Grid.Column="1" Margin="0 0 0 0"
                                Style="{DynamicResource MaterialDesignComboBox}"
                                ItemsSource="{Binding AvailableThemes}"
                                SelectedItem="{Binding SelectedTheme, Mode=TwoWay}"
                                materialDesign:TextFieldAssist.UnderlineBrush="#FF000B25"
                                materialDesign:HintAssist.Hint="{loc:Localize SelectTheme}"
                                VerticalAlignment="Center"/>

                            <!-- Backdrops -->
                            <Label Grid.Row="2" Grid.Column="0" Content="{loc:Localize lbl_EnableBackdrops}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="2" Grid.Column="1"
                                IsChecked="{Binding EnableBackdrops, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Theme Songs -->
                            <Label Grid.Row="3" Grid.Column="0" Content="{loc:Localize lbl_EnableThemeSongs}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="3" Grid.Column="1"
                                IsChecked="{Binding EnableThemeSongs, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Theme Videos -->
                            <Label Grid.Row="4" Grid.Column="0" Content="{loc:Localize lbl_EnableThemeVideos}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="4" Grid.Column="1"
                                IsChecked="{Binding EnableThemeVideos, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Backdrop Screensaver -->
                            <Label Grid.Row="5" Grid.Column="0" Content="{loc:Localize lbl_BackdropScreensaver}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="5" Grid.Column="1"
                                IsChecked="{Binding BackdropScreensaver, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Details Banner -->
                            <Label Grid.Row="6" Grid.Column="0" Content="{loc:Localize lbl_DetailsBanner}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="6" Grid.Column="1"
                                IsChecked="{Binding DetailsBanner, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Cinema Mode -->
                            <Label Grid.Row="7" Grid.Column="0" Content="{loc:Localize lbl_CinemaMode}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="7" Grid.Column="1"
                                IsChecked="{Binding CinemaMode, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Next-Up -->
                            <Label Grid.Row="8" Grid.Column="0" Content="{loc:Localize lbl_NextUpEnabled}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="8" Grid.Column="1"
                                IsChecked="{Binding NextUpEnabled, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Enable External VideoPlayers -->
                            <Label Grid.Row="9" Grid.Column="0" Content="{loc:Localize lbl_EnableExternalVideoPlayers}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="9" Grid.Column="1"
                                IsChecked="{Binding EnableExternalVideoPlayers, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Skip Intros -->
                            <Label Grid.Row="10" Grid.Column="0" Content="{loc:Localize lbl_SkipIntros}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="10" Grid.Column="1"
                                IsChecked="{Binding SkipIntros, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Audio Language Preference -->
                            <Label Grid.Row="11" Grid.Column="0" Content="{loc:Localize lbl_AudioLanguagePreference}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <TextBox Grid.Row="11" Grid.Column="1"
                                Margin="0,15,12,0"
                                VerticalAlignment="Center"
                                Text="{Binding AudioLanguagePreference}"
                                Style="{DynamicResource MaterialDesignTextBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                materialDesign:HintAssist.Hint="{loc:Localize AudioLanguage}"
                                FontSize="14" BorderBrush="#FF000B25"/>

                            <!-- Subtitle Language Preference -->
                            <Label Grid.Row="12" Grid.Column="0" Content="{loc:Localize lbl_SubtitleLanguagePreference}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <TextBox Grid.Row="12" Grid.Column="1"
                                Margin="0,15,12,0"
                                VerticalAlignment="Center"
                                Text="{Binding SubtitleLanguagePreference}"
                                Style="{DynamicResource MaterialDesignTextBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                materialDesign:HintAssist.Hint="{loc:Localize AudioLanguage}"
                                FontSize="14" BorderBrush="#FF000B25"/>
                        </Grid>
                    </StackPanel>
                </materialDesign:Card>

                <!-- API Settings Section -->
                <materialDesign:Card Margin="14,0,14,0" Padding="10">
                    <StackPanel IsEnabled="{Binding ApiKeySet}">
                        <TextBlock Text="{loc:Localize lbl_UserSettings}" d:Text="UserSettings" Style="{StaticResource MaterialDesignSubtitle1TextBlock}" Margin="0,0,0,10"/>

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Auto play next episode -->
                            <Label Grid.Row="1" Grid.Column="0" Content="{loc:Localize lbl_AutoPlayNextEpisode}" VerticalAlignment="Center" Margin="0,0,12,0"/>
                            <CheckBox Grid.Row="1" Grid.Column="1"
                                IsChecked="{Binding AutoPlayNextEpisode, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,0,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Remember audio selections -->
                            <Label Grid.Row="2" Grid.Column="0" Content="{loc:Localize lbl_RememberAudioSelections}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="2" Grid.Column="1"
                                IsChecked="{Binding RememberAudioSelections, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Remember subtitles selections -->
                            <Label Grid.Row="3" Grid.Column="0" Content="{loc:Localize lbl_RememberSubtitleSelections}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="3" Grid.Column="1"
                                IsChecked="{Binding RememberSubtitleSelections, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Play Default Audio Track -->
                            <Label Grid.Row="4" Grid.Column="0" Content="{loc:Localize lbl_PlayDefaultAudioTrack}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="4" Grid.Column="1"
                                IsChecked="{Binding PlayDefaultAudioTrack, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>

                            <!-- Subtitle modus -->
                            <Label Grid.Row="5" Grid.Column="0" Content="{loc:Localize lbl_SubtitleMode}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <ComboBox Grid.Row="5" Grid.Column="1" Margin="0 15 0 0"
                                Style="{DynamicResource MaterialDesignComboBox}"
                                ItemsSource="{Binding AvailableSubtitleModes}"
                                SelectedItem="{Binding SelectedSubtitleMode, Mode=TwoWay}"
                                materialDesign:TextFieldAssist.UnderlineBrush="#FF000B25"
                                materialDesign:HintAssist.Hint="{loc:Localize SelectSubtitleMode}"
                                VerticalAlignment="Center"/>

                            <!-- Play Default Audio Track -->
                            <Label Grid.Row="6" Grid.Column="0" Content="{loc:Localize lbl_userAutoLogin}" VerticalAlignment="Center" Margin="0,15,12,0"/>
                            <CheckBox Grid.Row="6" Grid.Column="1"
                                IsChecked="{Binding UserAutoLogin, Mode=TwoWay}"
                                VerticalAlignment="Center"
                                Style="{DynamicResource MaterialDesignCheckBox}"
                                Foreground="{DynamicResource MaterialDesignBody}"
                                FontSize="14" Margin="0,15,0,0" BorderBrush="#FF000B25" Background="#FF000B25"/>
                        </Grid>
                    </StackPanel>
                </materialDesign:Card>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>